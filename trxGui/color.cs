using System.Drawing;

namespace trxGui
{
    class color
    {
        // colortable from wsprx by K1JT
        // used for monochrome colors only
        // the full color map is calculated at runtime

        double[,] coltab = new double[256, 6]
        {
            // Blue Theme: r,g,b Red Theme: r,g,b
            {0.0000,0.0000,0.0000,0.0000,0.0000,0.0000},
            {0.0902,0.0902,0.2558,0.0000,0.0000,0.0000},
            {0.1176,0.1176,0.2694,0.0078,0.0000,0.0000},
            {0.1412,0.1412,0.2820,0.0157,0.0000,0.0000},
            {0.1569,0.1569,0.2938,0.0235,0.0000,0.0000},
            {0.1725,0.1725,0.3049,0.0314,0.0000,0.0000},
            {0.1843,0.1843,0.3154,0.0392,0.0000,0.0000},
            {0.1961,0.1961,0.3254,0.0471,0.0000,0.0000},
            {0.2039,0.2039,0.3349,0.0549,0.0000,0.0000},
            {0.2157,0.2157,0.3440,0.0627,0.0000,0.0000},
            {0.2235,0.2235,0.3528,0.0706,0.0000,0.0000},
            {0.2314,0.2314,0.3612,0.0784,0.0000,0.0000},
            {0.2392,0.2392,0.3693,0.0863,0.0000,0.0000},
            {0.2471,0.2471,0.3772,0.0941,0.0000,0.0000},
            {0.2549,0.2549,0.3848,0.1020,0.0000,0.0000},
            {0.2588,0.2588,0.3921,0.1098,0.0000,0.0000},
            {0.2667,0.2667,0.3992,0.1176,0.0000,0.0000},
            {0.2706,0.2706,0.4061,0.1255,0.0000,0.0000},
            {0.2784,0.2784,0.4129,0.1333,0.0000,0.0000},
            {0.2824,0.2824,0.4194,0.1412,0.0000,0.0000},
            {0.2902,0.2902,0.4258,0.1490,0.0000,0.0000},
            {0.2941,0.2941,0.4319,0.1569,0.0000,0.0000},
            {0.2980,0.2980,0.4380,0.1647,0.0000,0.0000},
            {0.3059,0.3059,0.4439,0.1725,0.0000,0.0000},
            {0.3098,0.3098,0.4496,0.1804,0.0000,0.0000},
            {0.3137,0.3137,0.4553,0.1882,0.0000,0.0000},
            {0.3176,0.3176,0.4608,0.1961,0.0000,0.0000},
            {0.3216,0.3216,0.4661,0.2039,0.0000,0.0000},
            {0.3294,0.3294,0.4714,0.2118,0.0000,0.0000},
            {0.3333,0.3333,0.4765,0.2196,0.0000,0.0000},
            {0.3373,0.3373,0.4815,0.2275,0.0000,0.0000},
            {0.3412,0.3412,0.4865,0.2353,0.0000,0.0000},
            {0.3451,0.3451,0.4913,0.2431,0.0000,0.0000},
            {0.3490,0.3490,0.4960,0.2510,0.0000,0.0000},
            {0.3529,0.3529,0.5006,0.2588,0.0000,0.0000},
            {0.3569,0.3569,0.5052,0.2667,0.0000,0.0000},
            {0.3608,0.3608,0.5096,0.2745,0.0000,0.0000},
            {0.3647,0.3647,0.5140,0.2824,0.0000,0.0000},
            {0.3686,0.3686,0.5183,0.2902,0.0000,0.0000},
            {0.3725,0.3725,0.5225,0.2980,0.0000,0.0000},
            {0.3765,0.3765,0.5266,0.3059,0.0000,0.0000},
            {0.3804,0.3804,0.5306,0.3137,0.0000,0.0000},
            {0.3843,0.3843,0.5346,0.3216,0.0000,0.0000},
            {0.3843,0.3843,0.5385,0.3294,0.0000,0.0000},
            {0.3882,0.3882,0.5423,0.3373,0.0000,0.0000},
            {0.3922,0.3922,0.5460,0.3451,0.0000,0.0000},
            {0.3961,0.3961,0.5497,0.3529,0.0000,0.0000},
            {0.4000,0.4000,0.5533,0.3608,0.0000,0.0000},
            {0.4039,0.4039,0.5569,0.3686,0.0000,0.0000},
            {0.4078,0.4078,0.5603,0.3765,0.0000,0.0000},
            {0.4118,0.4118,0.5638,0.3843,0.0000,0.0000},
            {0.4118,0.4118,0.5671,0.3922,0.0000,0.0000},
            {0.4157,0.4157,0.5704,0.4000,0.0000,0.0000},
            {0.4196,0.4196,0.5736,0.4078,0.0000,0.0000},
            {0.4235,0.4235,0.5768,0.4157,0.0000,0.0000},
            {0.4275,0.4275,0.5799,0.4235,0.0000,0.0000},
            {0.4314,0.4314,0.5829,0.4314,0.0000,0.0000},
            {0.4314,0.4314,0.5859,0.4392,0.0000,0.0000},
            {0.4353,0.4353,0.5889,0.4471,0.0000,0.0000},
            {0.4392,0.4392,0.5917,0.4549,0.0000,0.0000},
            {0.4431,0.4431,0.5946,0.4627,0.0000,0.0000},
            {0.4471,0.4471,0.5973,0.4706,0.0000,0.0000},
            {0.4471,0.4471,0.6001,0.4784,0.0000,0.0000},
            {0.4510,0.4510,0.6027,0.4863,0.0000,0.0000},
            {0.4549,0.4549,0.6053,0.4941,0.0000,0.0000},
            {0.4588,0.4588,0.6079,0.5020,0.0000,0.0000},
            {0.4627,0.4627,0.6104,0.5098,0.0098,0.0000},
            {0.4627,0.4627,0.6129,0.5176,0.0176,0.0000},
            {0.4667,0.4667,0.6153,0.5255,0.0255,0.0000},
            {0.4706,0.4706,0.6176,0.5333,0.0333,0.0000},
            {0.4745,0.4745,0.6199,0.5412,0.0412,0.0000},
            {0.4745,0.4745,0.6222,0.5490,0.0490,0.0000},
            {0.4784,0.4784,0.6244,0.5569,0.0569,0.0000},
            {0.4824,0.4824,0.6266,0.5647,0.0647,0.0000},
            {0.4863,0.4863,0.6287,0.5725,0.0725,0.0000},
            {0.4863,0.4863,0.6308,0.5804,0.0804,0.0000},
            {0.4902,0.4902,0.6328,0.5882,0.0882,0.0000},
            {0.4941,0.4941,0.6348,0.5961,0.0961,0.0000},
            {0.4980,0.4980,0.6367,0.6039,0.1039,0.0000},
            {0.5020,0.5020,0.6386,0.6118,0.1118,0.0000},
            {0.5020,0.5020,0.6404,0.6196,0.1196,0.0000},
            {0.5059,0.5059,0.6422,0.6275,0.1275,0.0000},
            {0.5098,0.5098,0.6440,0.6353,0.1353,0.0000},
            {0.5098,0.5098,0.6457,0.6431,0.1431,0.0000},
            {0.5137,0.5137,0.6474,0.6510,0.1510,0.0000},
            {0.5176,0.5176,0.6490,0.6588,0.1588,0.0000},
            {0.5216,0.5216,0.6506,0.6667,0.1667,0.0000},
            {0.5216,0.5216,0.6521,0.6745,0.1745,0.0000},
            {0.5255,0.5255,0.6536,0.6824,0.1824,0.0000},
            {0.5294,0.5294,0.6551,0.6902,0.1902,0.0000},
            {0.5333,0.5333,0.6565,0.6980,0.1980,0.0000},
            {0.5333,0.5333,0.6578,0.7059,0.2059,0.0000},
            {0.5373,0.5373,0.6591,0.7137,0.2137,0.0000},
            {0.5412,0.5412,0.6604,0.7216,0.2216,0.0000},
            {0.5451,0.5451,0.6617,0.7294,0.2294,0.0000},
            {0.5451,0.5451,0.6629,0.7373,0.2373,0.0000},
            {0.5490,0.5490,0.6640,0.7451,0.2451,0.0000},
            {0.5529,0.5529,0.6651,0.7529,0.2529,0.0000},
            {0.5569,0.5569,0.6662,0.7608,0.2608,0.0000},
            {0.5569,0.5569,0.6672,0.7686,0.2686,0.0000},
            {0.5608,0.5608,0.6682,0.7765,0.2765,0.0000},
            {0.5647,0.5647,0.6692,0.7843,0.2843,0.0000},
            {0.5647,0.5647,0.6701,0.7922,0.2922,0.0000},
            {0.5686,0.5686,0.6710,0.8000,0.3000,0.0000},
            {0.5725,0.5725,0.6718,0.8078,0.3078,0.0000},
            {0.5765,0.5765,0.6726,0.8157,0.3157,0.0000},
            {0.5765,0.5765,0.6733,0.8235,0.3235,0.0000},
            {0.5804,0.5804,0.6740,0.8314,0.3314,0.0000},
            {0.5843,0.5843,0.6747,0.8392,0.3392,0.0000},
            {0.5843,0.5843,0.6753,0.8471,0.3471,0.0000},
            {0.5882,0.5882,0.6759,0.8549,0.3549,0.0000},
            {0.5922,0.5922,0.6765,0.8627,0.3627,0.0000},
            {0.5961,0.5961,0.6770,0.8706,0.3706,0.0000},
            {0.5961,0.5961,0.6774,0.8784,0.3784,0.0000},
            {0.6000,0.6000,0.6779,0.8863,0.3863,0.0000},
            {0.6039,0.6039,0.6783,0.8941,0.3941,0.0000},
            {0.6039,0.6039,0.6786,0.9020,0.4020,0.0000},
            {0.6078,0.6078,0.6789,0.9098,0.4098,0.0000},
            {0.6118,0.6118,0.6792,0.9176,0.4176,0.0000},
            {0.6157,0.6157,0.6794,0.9255,0.4255,0.0000},
            {0.6157,0.6157,0.6796,0.9333,0.4333,0.0000},
            {0.6196,0.6196,0.6798,0.9412,0.4412,0.0000},
            {0.6235,0.6235,0.6799,0.9490,0.4490,0.0000},
            {0.6235,0.6235,0.6800,0.9569,0.4569,0.0000},
            {0.6275,0.6275,0.6800,0.9647,0.4647,0.0000},
            {0.6314,0.6314,0.6800,0.9725,0.4725,0.0000},
            {0.6353,0.6353,0.6799,0.9804,0.4804,0.0000},
            {0.6353,0.6353,0.6799,0.9882,0.4882,0.0000},
            {0.6392,0.6392,0.6797,0.9961,0.4961,0.0000},
            {0.6431,0.6431,0.6796,1.0000,0.5039,0.0000},
            {0.6431,0.6431,0.6794,1.0000,0.5118,0.0118},
            {0.6471,0.6471,0.6791,1.0000,0.5196,0.0196},
            {0.6510,0.6510,0.6789,1.0000,0.5275,0.0275},
            {0.6549,0.6549,0.6785,1.0000,0.5353,0.0353},
            {0.6549,0.6549,0.6782,1.0000,0.5431,0.0431},
            {0.6588,0.6588,0.6778,1.0000,0.5510,0.0510},
            {0.6627,0.6627,0.6773,1.0000,0.5588,0.0588},
            {0.6627,0.6627,0.6769,1.0000,0.5667,0.0667},
            {0.6667,0.6667,0.6763,1.0000,0.5745,0.0745},
            {0.6706,0.6706,0.6758,1.0000,0.5824,0.0824},
            {0.6745,0.6745,0.6752,1.0000,0.5902,0.0902},
            {0.6745,0.6745,0.6746,1.0000,0.5980,0.0980},
            {0.6784,0.6784,0.6739,1.0000,0.6059,0.1059},
            {0.6824,0.6824,0.6732,1.0000,0.6137,0.1137},
            {0.6824,0.6824,0.6724,1.0000,0.6216,0.1216},
            {0.6863,0.6863,0.6716,1.0000,0.6294,0.1294},
            {0.6902,0.6902,0.6708,1.0000,0.6373,0.1373},
            {0.6941,0.6941,0.6699,1.0000,0.6451,0.1451},
            {0.6941,0.6941,0.6690,1.0000,0.6529,0.1529},
            {0.6980,0.6980,0.6680,1.0000,0.6608,0.1608},
            {0.7020,0.7020,0.6670,1.0000,0.6686,0.1686},
            {0.7020,0.7020,0.6660,1.0000,0.6765,0.1765},
            {0.7059,0.7059,0.6649,1.0000,0.6843,0.1843},
            {0.7098,0.7098,0.6638,1.0000,0.6922,0.1922},
            {0.7098,0.7098,0.6626,1.0000,0.7000,0.2000},
            {0.7137,0.7137,0.6614,1.0000,0.7078,0.2078},
            {0.7176,0.7176,0.6601,1.0000,0.7157,0.2157},
            {0.7216,0.7216,0.6589,1.0000,0.7235,0.2235},
            {0.7216,0.7216,0.6575,1.0000,0.7314,0.2314},
            {0.7255,0.7255,0.6561,1.0000,0.7392,0.2392},
            {0.7294,0.7294,0.6547,1.0000,0.7471,0.2471},
            {0.7294,0.7294,0.6533,1.0000,0.7549,0.2549},
            {0.7333,0.7333,0.6518,1.0000,0.7627,0.2627},
            {0.7373,0.7373,0.6502,1.0000,0.7706,0.2706},
            {0.7412,0.7412,0.6486,1.0000,0.7784,0.2784},
            {0.7412,0.7412,0.6470,1.0000,0.7863,0.2863},
            {0.7451,0.7451,0.6453,1.0000,0.7941,0.2941},
            {0.7490,0.7490,0.6436,1.0000,0.8020,0.3020},
            {0.7490,0.7490,0.6418,1.0000,0.8098,0.3098},
            {0.7529,0.7529,0.6400,1.0000,0.8176,0.3176},
            {0.7569,0.7569,0.6382,1.0000,0.8255,0.3255},
            {0.7608,0.7608,0.6363,1.0000,0.8333,0.3333},
            {0.7608,0.7608,0.6343,1.0000,0.8412,0.3412},
            {0.7647,0.7647,0.6324,1.0000,0.8490,0.3490},
            {0.7686,0.7686,0.6303,1.0000,0.8569,0.3569},
            {0.7686,0.7686,0.6282,1.0000,0.8647,0.3647},
            {0.7725,0.7725,0.6261,1.0000,0.8725,0.3725},
            {0.7765,0.7765,0.6239,1.0000,0.8804,0.3804},
            {0.7804,0.7804,0.6217,1.0000,0.8882,0.3882},
            {0.7804,0.7804,0.6194,1.0000,0.8961,0.3961},
            {0.7843,0.7843,0.6171,1.0000,0.9039,0.4039},
            {0.7882,0.7882,0.6147,1.0000,0.9118,0.4118},
            {0.7882,0.7882,0.6123,1.0000,0.9196,0.4196},
            {0.7922,0.7922,0.6098,1.0000,0.9275,0.4275},
            {0.7961,0.7961,0.6073,1.0000,0.9353,0.4353},
            {0.8000,0.8000,0.6047,1.0000,0.9431,0.4431},
            {0.8000,0.8000,0.6021,1.0000,0.9510,0.4510},
            {0.8039,0.8039,0.5994,1.0000,0.9588,0.4588},
            {0.8078,0.8078,0.5967,1.0000,0.9667,0.4667},
            {0.8078,0.8078,0.5939,1.0000,0.9745,0.4745},
            {0.8118,0.8118,0.5911,1.0000,0.9824,0.4824},
            {0.8157,0.8157,0.5882,1.0000,0.9902,0.4902},
            {0.8196,0.8196,0.5853,1.0000,0.9980,0.4980},
            {0.8196,0.8196,0.5823,1.0000,1.0000,0.5059},
            {0.8235,0.8235,0.5792,1.0000,1.0000,0.5137},
            {0.8275,0.8275,0.5761,1.0000,1.0000,0.5216},
            {0.8275,0.8275,0.5729,1.0000,1.0000,0.5294},
            {0.8314,0.8314,0.5697,1.0000,1.0000,0.5373},
            {0.8353,0.8353,0.5664,1.0000,1.0000,0.5451},
            {0.8392,0.8392,0.5630,1.0000,1.0000,0.5529},
            {0.8392,0.8392,0.5596,1.0000,1.0000,0.5608},
            {0.8431,0.8431,0.5561,1.0000,1.0000,0.5686},
            {0.8471,0.8471,0.5525,1.0000,1.0000,0.5765},
            {0.8471,0.8471,0.5489,1.0000,1.0000,0.5843},
            {0.8510,0.8510,0.5452,1.0000,1.0000,0.5922},
            {0.8549,0.8549,0.5414,1.0000,1.0000,0.6000},
            {0.8588,0.8588,0.5376,1.0000,1.0000,0.6078},
            {0.8588,0.8588,0.5337,1.0000,1.0000,0.6157},
            {0.8627,0.8627,0.5297,1.0000,1.0000,0.6235},
            {0.8667,0.8667,0.5257,1.0000,1.0000,0.6314},
            {0.8667,0.8667,0.5215,1.0000,1.0000,0.6392},
            {0.8706,0.8706,0.5173,1.0000,1.0000,0.6471},
            {0.8745,0.8745,0.5130,1.0000,1.0000,0.6549},
            {0.8784,0.8784,0.5086,1.0000,1.0000,0.6627},
            {0.8784,0.8784,0.5042,1.0000,1.0000,0.6706},
            {0.8824,0.8824,0.4996,1.0000,1.0000,0.6784},
            {0.8863,0.8863,0.4950,1.0000,1.0000,0.6863},
            {0.8863,0.8863,0.4902,1.0000,1.0000,0.6941},
            {0.8902,0.8902,0.4854,1.0000,1.0000,0.7020},
            {0.8941,0.8941,0.4804,1.0000,1.0000,0.7098},
            {0.8980,0.8980,0.4754,1.0000,1.0000,0.7176},
            {0.8980,0.8980,0.4702,1.0000,1.0000,0.7255},
            {0.9020,0.9020,0.4649,1.0000,1.0000,0.7333},
            {0.9059,0.9059,0.4595,1.0000,1.0000,0.7412},
            {0.9098,0.9098,0.4540,1.0000,1.0000,0.7490},
            {0.9098,0.9098,0.4484,1.0000,1.0000,0.7569},
            {0.9137,0.9137,0.4426,1.0000,1.0000,0.7647},
            {0.9176,0.9176,0.4366,1.0000,1.0000,0.7725},
            {0.9176,0.9176,0.4306,1.0000,1.0000,0.7804},
            {0.9216,0.9216,0.4243,1.0000,1.0000,0.7882},
            {0.9255,0.9255,0.4179,1.0000,1.0000,0.7961},
            {0.9294,0.9294,0.4114,1.0000,1.0000,0.8039},
            {0.9294,0.9294,0.4046,1.0000,1.0000,0.8118},
            {0.9333,0.9333,0.3977,1.0000,1.0000,0.8196},
            {0.9373,0.9373,0.3905,1.0000,1.0000,0.8275},
            {0.9373,0.9373,0.3831,1.0000,1.0000,0.8353},
            {0.9412,0.9412,0.3754,1.0000,1.0000,0.8431},
            {0.9451,0.9451,0.3675,1.0000,1.0000,0.8510},
            {0.9490,0.9490,0.3594,1.0000,1.0000,0.8588},
            {0.9490,0.9490,0.3509,1.0000,1.0000,0.8667},
            {0.9529,0.9529,0.3420,1.0000,1.0000,0.8745},
            {0.9569,0.9569,0.3328,1.0000,1.0000,0.8824},
            {0.9608,0.9608,0.3232,1.0000,1.0000,0.8902},
            {0.9608,0.9608,0.3131,1.0000,1.0000,0.8980},
            {0.9647,0.9647,0.3024,1.0000,1.0000,0.9059},
            {0.9686,0.9686,0.2912,1.0000,1.0000,0.9137},
            {0.9686,0.9686,0.2792,1.0000,1.0000,0.9216},
            {0.9725,0.9725,0.2664,1.0000,1.0000,0.9294},
            {0.9765,0.9765,0.2526,1.0000,1.0000,0.9373},
            {0.9804,0.9804,0.2375,1.0000,1.0000,0.9451},
            {0.9804,0.9804,0.2208,1.0000,1.0000,0.9529},
            {0.9843,0.9843,0.2020,1.0000,1.0000,0.9608},
            {0.9882,0.9882,0.1800,1.0000,1.0000,0.9686},
            {1.0,0.0,0.0,1.0000,1.0000,0.9765},
            {1.0,1.0,0.0,0.0,1.0,1.0},
            {0.0,1.0,0.0,0.0,1.0,0.0}
        };

        public int palette = 1;

        public Color getColor(int val)
        {
            int r = 0, b = 0, g = 0;

            if (val > 255) val = 255;
            if (val < 0) val = 0;

            // we use the last 3 values only, these make much better contrast
            if (palette == 0)
            {
                r = (int)(coltab[val, 3] * 255);
                g = (int)(coltab[val, 4] * 255);
                b = (int)(coltab[val, 5] * 255);
            }
            else if (palette == 1)
            {
                b = (int)(coltab[val, 3] * 255);
                g = (int)(coltab[val, 4] * 255);
                r = (int)(coltab[val, 5] * 255);
            }
            else if (palette == 2)
            {
                g = (int)(coltab[val, 3] * 255);
                b = (int)(coltab[val, 4] * 255);
                r = (int)(coltab[val, 5] * 255);
            }
            else
            {
                r = g = b = (int)((coltab[val, 3] + coltab[val, 4] + coltab[val, 5]) / 3 * 255);
            }
            return Color.FromArgb(r, g, b);
        }
    }
}
